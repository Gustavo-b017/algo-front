/* public/style/header.scss */

/* ==============================
   Design tokens
   ============================== */
:root {
  --azul: #022e4c;
  --bg: #fff;
  --vermelho: #ce0f2d;

  --gap-2xs: 0.35rem;
  --gap-xs: 0.5rem;
  --gap-sm: 1rem;
  --gap-md: 1.5rem;

  --radius: 10px;

  --header-vertical-padding-mobile: 0.6rem;
  --header-vertical-padding-desktop: 20px;

  --font-12: 12px;
  --font-13: 13px;
}

/* ==============================
     Header (mobile-first)
     ============================== */
.header {
  box-sizing: border-box;
  width: 100%;
  background: var(--bg);
  padding: var(--header-vertical-padding-mobile) 0;

  display: flex;
  flex-wrap: wrap;
  align-items: stretch;
  justify-content: space-between;
  gap: var(--gap-xs);

  /* Container central no desktop */
  @media (min-width: 992px) {
    max-width: 1200px;
    margin: 0 auto;
  }

  /* Reset base para botões/links dentro do header */
  a,
  button {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    background: none;
    border: none;
    color: var(--azul);
    font-size: var(--font-13);
    font-weight: 700;
    cursor: pointer;
    gap: var(--gap-2xs);
    text-decoration: none;
    line-height: 1;
  }

  /* ==============================
       Menu (lado esquerdo)
       ============================== */
  .header-menu {
    display: flex;
    align-items: center;
    gap: var(--gap-xs);

    .menu-btn {
      padding: 0.25rem;

      img {
        display: block;
        width: clamp(16px, 6vw, 32px);
        height: auto;
      }
    }
  }

  /* ==============================
       Logo (irmão de .header-menu)
       ============================== */
  .logo {
    cursor: pointer;

    img {
      display: block;
      width: clamp(28px, 9vw, 45px);
      height: auto;
    }
  }

  /* ==============================
       Busca (linha inteira no mobile)
       ============================== */
  .header-busca {
    order: 2; /* força descer no mobile */
    width: 100%;
    padding: 1rem 0.875rem; /* alinhado ao respiro lateral */

    box-sizing: border-box;
    padding-left: calc(0rem + env(safe-area-inset-left));
    padding-right: calc(0rem + env(safe-area-inset-right));
  }

  /* ==============================
       Ações (conta/cadastro + carrinho)
       ============================== */
  .header-actions {
    display: flex;
    align-items: center;
    gap: var(--gap-xs);

    /* Grupo logado */
    .user-box {
      display: inline-flex;
      align-items: center;
      gap: 12px;
    }

    .user-link {
      align-items: center;

      .user-icon {
        display: block;
        width: clamp(20px, 8.5vw, 32px);
        height: clamp(20px, 8vw, 32px);
      }

      span {
        display: none;
      } /* só mostra no ≥768px */
    }

    .user-logout-btn {
      padding: 0.25rem 0.5rem;
      border-radius: 6px;
      color: var(--vermelho);
    }

    /* Visitante */
    .cadastro-btn {
      img {
        width: 28px;
        height: 28px;
      }
      span {
        display: none;
      } /* só mostra no ≥768px */
    }

    /* Carrinho (agora a classe está no botão/link, não na IMG) */
    .carrinho-btn {
      img {
        width: 32px;
        height: 30px;
      }
      span {
        display: none;
      } /* só mostra no ≥768px */
    }
  }
}

/* ==============================
     Efeitos de hover
     ============================== */
.header .menu-btn:hover,
.header .header-actions a:hover,
.header .header-actions button:hover {
  transform: translateY(-2px) scale(1.02);
  transition: transform 160ms ease;
}

/* ==============================
     Tablet / Desktop (≥768px)
     - Tudo em uma linha
     ============================== */
@media (min-width: 768px) {
  .header {
    padding: var(--header-vertical-padding-desktop) 0;
    flex-direction: row;
    align-items: center;
    justify-content: flex-start;
    flex-wrap: nowrap;
    gap: var(--gap-md);
    padding-left: 1rem;
    padding-right: 1rem;

    /* Ordenação dos irmãos:
         .header-menu | .logo | .header-busca (flex:1) | .header-actions */
    .header-menu {
      order: 0;
    }
    .logo {
      order: 1;
    }

    .header-busca {
      order: 2;
      flex: 1 1 auto;
      padding: 0;
      max-width: none;
      padding-right: 100px; /* preservado do seu design */
    }

    .header-actions {
      order: 3;
      gap: 30px;
      align-items: center;

      /* Mostrar textos no desktop */
      .user-link span,
      .cadastro-btn span,
      .carrinho-btn span {
        display: inline-block;
      }

      .cadastro-btn img {
        width: 30px;
        height: 30px;
      }
      .carrinho-btn img {
        width: 40px;
        height: 38px;
      }
    }

    /* Logo maior no desktop */
    .logo img {
      width: 73px;
      height: 60px;
    }
  }
}

/* ==============================
     Desktop largo (≥992px)
     ============================== */
@media (min-width: 992px) {
  .header {
    padding-left: 0;
    padding-right: 0;
  }
}
